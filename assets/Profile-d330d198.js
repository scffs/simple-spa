import{b as s,a as e,r,j as t,B as o}from"./index-581a9a28.js";import{k as a,e as i,b as n,L as l}from"./userSlice-7d69d403.js";import{u as m,E as c,A as j,P as d}from"./Post-e8d36cf1.js";import{C as p,R as f,a as u}from"./Row-ec50d0ae.js";import{B as x}from"./Button-851162ee.js";import"./Container-7c6426b8.js";import"./ThemeProvider-9bd48750.js";import"./Alert-89b84e47.js";import"./CloseButton-56bbcd54.js";import"./createWithBsPrefix-1f037f42.js";import"./CardHeaderContext-8c2af205.js";const h=()=>{const{userId:h}=s(),g=m(),I=a((s=>s.user.user)),B=a((s=>s.user.loading)),C=a((s=>s.user.error)),S=a((s=>s.posts.posts)),b=e();if(r.useEffect((()=>{g(i(h))}),[g,h]),r.useEffect((()=>{const s=JSON.parse(localStorage.getItem(`user_${h}_posts`));s&&s.length>0&&g(n(s))}),[g,h]),r.useEffect((()=>{if(S.length>0){const s=S.filter((s=>s.userId===parseInt(h)));localStorage.setItem(`user_${h}_posts`,JSON.stringify(s))}}),[S,h]),B)return t.jsx(l,{});if(C)return t.jsx(c,{error:C});const E=S.filter((s=>s.userId===parseInt(h)));return t.jsxs(t.Fragment,{children:[t.jsx(p,{style:{width:"18rem"},className:"mb-4",children:I&&t.jsxs("div",{children:[t.jsx(p.Img,{variant:"top",src:j}),t.jsxs(p.Body,{children:[t.jsx(p.Title,{children:I.name}),t.jsx(p.Text,{children:I.email})]})]})}),t.jsx(x,{onClick:()=>{b(`/${o}`)},children:"Назад"}),t.jsx(f,{children:E.map((s=>t.jsx(u,{xs:12,md:6,lg:4,children:t.jsx(d,{post:s})},s.id)))})]})};export{h as default};
