import{b as s,a as e,r,j as t}from"./index-b9385345.js";import{k as o,e as a,b as i,L as n}from"./userSlice-ef0a26db.js";import{u as l,E as m,A as c,P as j}from"./Post-6f5fd1d9.js";import{C as d,R as p,a as f}from"./Row-17141beb.js";import{B as u}from"./Button-8aac23d9.js";import"./Container-eadb3fa1.js";import"./ThemeProvider-d92d51b7.js";import"./Alert-567fc060.js";import"./CloseButton-d4e4622a.js";import"./createWithBsPrefix-c975525d.js";import"./CardHeaderContext-b58cc7f1.js";const x=()=>{const{userId:x}=s(),h=l(),g=o((s=>s.user.user)),I=o((s=>s.user.loading)),C=o((s=>s.user.error)),B=o((s=>s.posts.posts)),S=e();if(r.useEffect((()=>{h(a(x))}),[h,x]),r.useEffect((()=>{const s=JSON.parse(localStorage.getItem(`user_${x}_posts`));s&&s.length>0&&h(i(s))}),[h,x]),r.useEffect((()=>{if(B.length>0){const s=B.filter((s=>s.userId===parseInt(x)));localStorage.setItem(`user_${x}_posts`,JSON.stringify(s))}}),[B,x]),I)return t.jsx(n,{});if(C)return t.jsx(m,{error:C});const b=B.filter((s=>s.userId===parseInt(x)));return t.jsxs(t.Fragment,{children:[t.jsx(d,{style:{width:"18rem"},className:"mb-4",children:g&&t.jsxs("div",{children:[t.jsx(d.Img,{variant:"top",src:c}),t.jsxs(d.Body,{children:[t.jsx(d.Title,{children:g.name}),t.jsx(d.Text,{children:g.email})]})]})}),t.jsx(u,{onClick:()=>{S("/")},children:"Назад"}),t.jsx(p,{children:b.map((s=>t.jsx(f,{xs:12,md:6,lg:4,children:t.jsx(j,{post:s})},s.id)))})]})};export{x as default};
